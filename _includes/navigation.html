<nav class="navbar">
  <ul>
    {% assign current = page.url | replace: 'index.html','' | replace: '//','/' %}
    {% for item in site.data.navigation %}
      {% assign raw = item.url | default: '/' %}
      {% assign href = raw | relative_url %}
      {% assign normalized = raw | replace: 'index.html','' | replace: '//','/' %}
      {% assign label = item.name %}
      <li>
        <a href="{{ href }}"
           class="{% if current == normalized or current == href %}active{% endif %}">
          {{ label }}
        </a>
      </li>
    {% endfor %}
  </ul>

  <!-- Theme toggle button -->
  <button id="theme-toggle" class="theme-toggle" aria-label="Toggle dark mode">ðŸŒ™</button>
</nav>
